
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Vim inline git diff - Passionate coding</title>
  <meta name="author" content="Raffael Schmid">

  
  <meta name="description" content="A few weeks ago, I heard about the Sublime Text Plugin GitGutter.
When I googled for an equivalent plugin for Vim, I did not find anything usable. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.yux.ch/blog/2013/02/20/vim-inline-git-diff/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Passionate coding" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36576873-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Passionate coding</a></h1>
  
    <h2>Stuff about me and what I do</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.yux.ch" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Vim Inline Git Diff</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-20T22:23:00+01:00" pubdate data-updated="true">Feb 20<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>A few weeks ago, I heard about the Sublime Text Plugin <a href="https://github.com/jisaacks/GitGutter">GitGutter</a>.
When I googled for an equivalent plugin for Vim, I did not find anything usable.
There is <a href="http://www.vim.org/scripts/script.php?script_id=1881">Svndiff</a>, but I
did not like the name and that you had to enable it by hand. So I put the topic
aside and went on with other stuff.</p>

<p>Last week, I started over with my Vim configuration. I was using the
<a href="https://github.com/skwp/dotfiles">dotfiles of skwp</a> which included also a
pretty nice Vim configuration. But after working with it for some months, I
started to feel uncomfortable with it as it had just too much features.</p>

<p>As part of building up my Vim configuration, I also checked again the topic
of inline git annotations.
I googled once more and found out, that these annotations are called <code>signs</code>
in Vim. I also found the plugin of <a href="https://github.com/sickill/vim-git-inline-diff">sickill</a>.
This plugin uses ruby (I did not even know, that is possible..!) to do the core work of
parsing the diff and set the correct marks. Unfortunately it did not work for me&#8230;
But hey, this is ruby. Let&#8217;s fix this!</p>

<p>After some hours of learning how to read <code>diff -u</code> output and tuning the algorithm to
mark the correct lines, I had a working version of <code>vim-git-inline-diff</code>.</p>

<p>I made a <a href="https://github.com/luxflux/vim-git-inline-diff">fork</a> of the existing plugin
and added a <code>Readme</code>. There is also a possibility to configure the used symbols, now:</p>

<p><img src="https://github.com/luxflux/vim-git-inline-diff/raw/master/_assets/example.png" alt="Screenshot" /></p>

<p>Happy coding!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Raffael Schmid</span></span>

      








  


<time datetime="2013-02-20T22:23:00+01:00" pubdate data-updated="true">Feb 20<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/git/'>Git</a>, <a class='category' href='/blog/categories/ruby/'>Ruby</a>, <a class='category' href='/blog/categories/vim/'>Vim</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/01/19/javascript-tests-with-phantomjs/" title="Previous Post: Javascript tests with PhantomJS">&laquo; Javascript tests with PhantomJS</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
<section>
  <h1>About Me</h1>
  <div id="twitter-profile" style="margin-top:0.5em;">
    <p>
      <strong>Raffael Schmid</strong> 
      (<a href="http://twitter.com/rafschmid">@rafschmid</a>)
    </p>
    <p></p>
  </div>
  <script type="text/javascript">
    $.domReady(function(){
        var container = $('#twitter-profile'),
            user = "rafschmid";
        
        function parseTwLinks(s) {
          var twUrl = "http://www.twitter.com/"
          s = s.replace(/ (@([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+p2+"'>"+p1+"</a>"
          }).replace(/ (#([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+"#!/search?q=%23"+p2+"'>"+p1+"</a>"
          })
          return s
        }

        $.ajax({
            url: "http://api.twitter.com/1/users/show.json?include_entities=false&screen_name="+user+"&callback=?"
          , type: 'jsonp'
          , error: function (err) { $('#twitter-profile').addClass('error');  }
          , success: function(data) {
              container.html('<img class="left" src="http://api.twitter.com/1/users/profile_image/'+user+'.json?size=bigger" alt="@'+user+'"><p><strong>'+data.name+'</strong> (<a href="http://twitter.com/'+user+'">@'+user+'</a>)<br/>'+data.location+'</p><p>'+parseTwLinks(data.description)+'</p>');
            }
        })
      });
  </script>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/02/20/vim-inline-git-diff/">Vim inline git diff</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/19/javascript-tests-with-phantomjs/">Javascript tests with PhantomJS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/27/ruby1-dot-9-escape-non-ascii-chars/">Ruby1.9: Escape non-ASCII chars</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/25/hubot-ubuntu-and-deb-packages/">Hubot, Ubuntu and .deb packages</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/25/gem-version-reader/">Gem: Version Reader</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/luxflux">@luxflux</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'luxflux',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Category Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/-deb' style='font-size: 112.0%'>.deb</a> <a href='/blog/categories/ascii' style='font-size: 112.0%'>ASCII</a> <a href='/blog/categories/capybara' style='font-size: 112.0%'>Capybara</a> <a href='/blog/categories/gem' style='font-size: 112.0%'>Gem</a> <a href='/blog/categories/git' style='font-size: 112.0%'>Git</a> <a href='/blog/categories/hubot' style='font-size: 112.0%'>Hubot</a> <a href='/blog/categories/phantomjs' style='font-size: 112.0%'>PhantomJS</a> <a href='/blog/categories/rails' style='font-size: 112.0%'>Rails</a> <a href='/blog/categories/rake' style='font-size: 112.0%'>Rake</a> <a href='/blog/categories/rspec' style='font-size: 112.0%'>RSpec</a> <a href='/blog/categories/ruby' style='font-size: 160.0%'>Ruby</a> <a href='/blog/categories/ruby1-9' style='font-size: 112.0%'>Ruby1.9</a> <a href='/blog/categories/test' style='font-size: 112.0%'>Test</a> <a href='/blog/categories/ubuntu' style='font-size: 112.0%'>Ubuntu</a> <a href='/blog/categories/unicode' style='font-size: 112.0%'>Unicode</a> <a href='/blog/categories/version-reader' style='font-size: 112.0%'>version_reader</a> <a href='/blog/categories/vim' style='font-size: 112.0%'>Vim</a> </span>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Raffael Schmid -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'yuxchblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.yux.ch/blog/2013/02/20/vim-inline-git-diff/';
        var disqus_url = 'http://blog.yux.ch/blog/2013/02/20/vim-inline-git-diff/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
